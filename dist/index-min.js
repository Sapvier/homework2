class FormValidator{constructor(e,t){this.form=e,this.fields=t}initialize(){this.validateOnSubmit(),this.validateOnEntry(),this.unlockButton(),this.showPassword()}validateOnSubmit(){this.form.addEventListener("submit",e=>{e.preventDefault(),this.fields.forEach(e=>{const t=document.querySelector(`#${e}`);this.validateFields(t)})})}validateOnEntry(){this.fields.forEach(e=>{const t=document.querySelector(`#${e}`);t.addEventListener("input",e=>{this.validateFields(t)}),t.addEventListener("select",e=>{this.validateFields(t)})})}validateFields(e){"password"===e.type?e.value=e.value.trim().replace(/\s+/g,""):e.value=e.value.trimStart().replace(/\s{2,}/g," ");let t=e.parentElement,l=e.parentElement.nextSibling,s=e.value;s.length<1?(l.innerHTML="Required field",t.style.border="1px solid red",t.style.marginBottom="9px",t.style.borderRadius="7px"):"country"===s?(l.innerHTML="Required field",t.style.border="1px solid red",t.style.marginBottom="9px",t.style.borderRadius="7px"):"country"!==s&&"countries"===e.id?(t.removeAttribute("style"),l.innerHTML=""):s.length>0&&"name"===e.id?(t.removeAttribute("style"),l.innerHTML=""):"password"===e.id&&e.value.length<8?(l.innerHTML="Password should be at least 8 symbols long",t.style.border="1px solid red",t.style.marginBottom="9px",t.style.borderRadius="7px"):"password"===e.id&&e.value.length>7&&(l.innerHTML="",t.removeAttribute("style"))}unlockButton(){let e=document.getElementById("terms"),t=document.querySelector("button");e.addEventListener("change",l=>{e.checked?(t.disabled=!1,t.style.backgroundColor="dodgerblue"):(t.disabled=!1,t.style.backgroundColor="silver")})}showPassword(){let e=document.getElementById("eye"),t=document.getElementById("eye-slashed"),l=document.getElementById("password");e.addEventListener("click",()=>{l.attributes.type.value="text",e.style.display="none",t.style.display="block"}),t.addEventListener("click",()=>{l.attributes.type.value="password",e.style.display="block",t.style.display="none"})}}const form=document.querySelector("#form"),fields=["name","password","countries"],validator=new FormValidator(form,fields);validator.initialize();